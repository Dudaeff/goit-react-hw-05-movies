{"version":3,"file":"static/js/623.8b9b43b6.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.js","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.js","pages/Movies.js","services/MovieAPI.js"],"sourcesContent":["import styled from 'styled-components';\n\nconst MoviesMap = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  row-gap: 5px;\n  margin-left: 15px;\n`;\n\nexport { MoviesMap };\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { MoviesMap } from './MoviesList.styled';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <MoviesMap>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n            {movie.original_title}\n          </Link>\n        </li>\n      ))}\n    </MoviesMap>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n","import styled from 'styled-components';\n\nconst SearchBox = styled.form`\n  margin-left: 15px;\n  margin-bottom: 15px;\n`;\n\nconst SearchBtn = styled.button`\n  cursor: pointer;\n`;\n\nexport { SearchBox, SearchBtn };\n","import { PropTypes } from 'prop-types';\nimport { SearchBox, SearchBtn } from './SearchForm.styled';\n\nconst SearchForm = ({ handleMovieSubmit }) => {\n  return (\n    <SearchBox onSubmit={handleMovieSubmit}>\n      <input type=\"text\" name=\"query\" />\n      <SearchBtn type=\"submit\">Search</SearchBtn>\n    </SearchBox>\n  );\n};\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  handleMovieSubmit: PropTypes.func.isRequired,\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getMovieByQuery } from 'services/MovieAPI';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (searchQuery === '') return;\n    const abortController = new AbortController();\n\n    getMovieByQuery(searchQuery, abortController).then(\n      movies => movies && setMovies(movies.results)\n    );\n\n    return () => abortController.abort();\n  }, [searchQuery]);\n\n  const handleMovieSubmit = e => {\n    e.preventDefault();\n\n    const query = e.target.elements.query.value;\n\n    if (query.trim() === '') return setSearchParams({});\n\n    setSearchParams({ query });\n  };\n\n  return (\n    <section>\n      <SearchForm handleMovieSubmit={handleMovieSubmit} />\n      {searchQuery && <MoviesList movies={movies} />}\n    </section>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst API_KEY = '6dbb7affd9e1114a59f95efe62ebacfd';\n\nexport const getTrendingMovies = async abortController => {\n  const source = 'trending/movie/day';\n  const url = `${source}?api_key=${API_KEY}`;\n\n  try {\n    const response = await axios.get(url, { signal: abortController.signal });\n    return response.data;\n  } catch (error) {\n    if (error.code === 'ERR_CANCELED') return;\n    console.error(error.message);\n  }\n};\n\nexport const getMovieByQuery = async (query, abortController) => {\n  const source = 'search/movie';\n  const url = `${source}?api_key=${API_KEY}&query=${query}`;\n\n  try {\n    const response = await axios.get(url, { signal: abortController.signal });\n    return response.data;\n  } catch (error) {\n    if (error.code === 'ERR_CANCELED') return;\n    console.error(error.message);\n  }\n};\n\nexport const getMovieById = async (movieId, abortController) => {\n  const url = `/movie/${movieId}?api_key=${API_KEY}`;\n\n  try {\n    const response = await axios.get(url, { signal: abortController.signal });\n    return response.data;\n  } catch (error) {\n    if (error.code === 'ERR_CANCELED') return;\n    console.error(error.message);\n  }\n};\n\nexport const getMovieDetails = async (movieId, details, abortController) => {\n  const source = `/movie/${movieId}/${details}`;\n  const url = `${source}?api_key=${API_KEY}`;\n\n  try {\n    const response = await axios.get(url, { signal: abortController.signal });\n    return response.data;\n  } catch (error) {\n    if (error.code === 'ERR_CANCELED') return;\n    console.error(error.message);\n  }\n};\n"],"names":["MoviesMap","styled","movies","location","useLocation","map","movie","to","id","state","from","original_title","SearchBox","SearchBtn","handleMovieSubmit","onSubmit","type","name","useState","setMovies","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","abortController","AbortController","getMovieByQuery","then","results","abort","e","preventDefault","query","target","elements","value","trim","MoviesList","axios","API_KEY","getTrendingMovies","url","signal","response","data","code","console","error","message","getMovieById","movieId","getMovieDetails","details","source"],"sourceRoot":""}